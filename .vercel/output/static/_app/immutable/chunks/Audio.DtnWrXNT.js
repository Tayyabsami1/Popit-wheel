var oe=Object.defineProperty;var ce=(t,e,a)=>e in t?oe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var h=(t,e,a)=>ce(t,typeof e!="symbol"?e+"":e,a);import{z as he,a5 as Y,a0 as de,D as W,aH as le,aI as ue,aJ as ge,aF as fe,aB as Se,ay as me,s as M,aK as we,g as z,a as Ce}from"./runtime.DhpGOksZ.js";import{a as ve,i as ye,c as _e,d as Pe,b as ke,n as be,f as Ie}from"./render.zzmf482g.js";import{w as H,g as Me,r as Ae}from"./index.BaNpasK9.js";import{p as b}from"./this.CkImLRey.js";const Te=!0,Ee=[];function gt(t,e=!1){return T(t,new Map,"",Ee)}function T(t,e,a,s,i=null){if(typeof t=="object"&&t!==null){var r=e.get(t);if(r!==void 0)return r;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(he(t)){var n=Array(t.length);e.set(t,n),i!==null&&e.set(i,n);for(var o=0;o<t.length;o+=1){var c=t[o];o in t&&(n[o]=T(c,e,a,s))}return n}if(Y(t)===de){n={},e.set(t,n),i!==null&&e.set(i,n);for(var d in t)n[d]=T(t[d],e,a,s);return n}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function")return T(t.toJSON(),e,a,s,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}function q(t){var e,a,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(a=q(t[e]))&&(s&&(s+=" "),s+=a)}else for(a in t)t[a]&&(s&&(s+=" "),s+=a);return s}function Le(){for(var t,e,a=0,s="",i=arguments.length;a<i;a++)(t=arguments[a])&&(e=q(t))&&(s&&(s+=" "),s+=e);return s}function Ne(t){return typeof t=="object"?Le(t):t??""}function ft(t){if(W){var e=!1,a=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var s=t.value;R(t,"value",null),t.value=s}if(t.hasAttribute("checked")){var i=t.checked;R(t,"checked",null),t.checked=i}}};t.__on_r=a,ue(a),ve()}}function ze(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function R(t,e,a,s){var i=t.__attributes??(t.__attributes={});W&&(i[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||i[e]!==(i[e]=a)&&(e==="style"&&"__styles"in t&&(t.__styles={}),e==="loading"&&(t[le]=a),a==null?t.removeAttribute(e):typeof a!="string"&&G(t).includes(e)?t[e]=a:t.setAttribute(e,a))}function St(t,e,a,s,i=!1,r=!1,n=!1){var o=e||{},c=t.tagName==="OPTION";for(var d in e)d in a||(a[d]=null);a.class&&(a.class=Ne(a.class));var S=G(t),w=t.__attributes??(t.__attributes={});for(const g in a){let f=a[g];if(c&&g==="value"&&f==null){t.value=t.__value="",o[g]=f;continue}var m=o[g];if(f!==m){o[g]=f;var I=g[0]+g[1];if(I!=="$$"){if(I==="on"){const C={},_="$$"+g;let v=g.slice(2);var l=Ie(v);if(ye(v)&&(v=v.slice(0,-7),C.capture=!0),!l&&m){if(f!=null)continue;t.removeEventListener(v,o[_],C),o[_]=null}if(f!=null)if(l)t[`__${v}`]=f,Pe([v]);else{let re=function(ne){o[g].call(this,ne)};o[_]=_e(v,t,re,C)}else l&&(t[`__${v}`]=void 0)}else if(g==="style"&&f!=null)t.style.cssText=f+"";else if(g==="autofocus")ke(t,!!f);else if(g==="__value"||g==="value"&&f!=null)t.value=t[g]=t.__value=f;else if(g==="selected"&&c)ze(t,f);else{var u=g;i||(u=be(u));var V=u==="defaultValue"||u==="defaultChecked";if(f==null&&!r&&!V)if(w[g]=null,u==="value"||u==="checked"){let C=t;if(u==="value"){let _=C.defaultValue;C.removeAttribute(u),C.defaultValue=_}else{let _=C.defaultChecked;C.removeAttribute(u),C.defaultChecked=_}}else t.removeAttribute(g);else V||S.includes(u)&&(r||typeof f!="string")?t[u]=f:typeof f!="function"&&(W&&(u==="src"||u==="href"||u==="srcset")||R(t,u,f))}g==="style"&&"__styles"in t&&(t.__styles={})}}}return o}var J=new Map;function G(t){var e=J.get(t.nodeName);if(e)return e;J.set(t.nodeName,e=[]);for(var a,s=t,i=Element.prototype;i!==s;){a=ge(s);for(var r in a)a[r].set&&e.push(r);s=Y(s)}return e}const Fe=Te,Q="modalStore";function mt(){const t=fe(Q);if(!t)throw new Error("modalStore is not initialized. Please ensure that `initializeStores()` is invoked in the root layout file of this app!");return t}function wt(){const t=De();return Se(Q,t)}function De(){const{subscribe:t,set:e,update:a}=H([]);return{subscribe:t,set:e,update:a,trigger:s=>a(i=>(i.push(s),i)),close:()=>a(s=>(s.length>0&&s.shift(),s)),clear:()=>e([])}}const F={};function X(t){return t==="local"?localStorage:sessionStorage}function B(t,e,a){const s=JSON,i="local";function r(n,o){X(i).setItem(n,s.stringify(o))}if(!F[t]){const n=H(e,d=>{const S=X(i).getItem(t);S&&d(s.parse(S));{const w=m=>{m.key===t&&d(m.newValue?s.parse(m.newValue):null)};return window.addEventListener("storage",w),()=>window.removeEventListener("storage",w)}}),{subscribe:o,set:c}=n;F[t]={set(d){r(t,d),c(d)},update(d){const S=d(Me(n));r(t,S),c(S)},subscribe:o}}return F[t]}const Re=B("modeOsPrefers",!1),Oe=B("modeUserPrefers",void 0),We=B("modeCurrent",!1);function Ct(){const t=window.matchMedia("(prefers-color-scheme: light)").matches;return Re.set(t),t}function vt(t){Oe.set(t)}function yt(t){const e=document.documentElement.classList,a="dark";t===!0?e.remove(a):e.add(a),We.set(t)}function _t(){const t=document.documentElement.classList,e=localStorage.getItem("modeUserPrefers")==="false",a=!("modeUserPrefers"in localStorage),s=window.matchMedia("(prefers-color-scheme: dark)").matches;e||a&&s?t.add("dark"):t.remove("dark")}const Z="(prefers-reduced-motion: reduce)";function Be(){return window.matchMedia(Z).matches}const Pt=Ae(Be(),t=>{{const e=s=>{t(s.matches)},a=window.matchMedia(Z);return a.addEventListener("change",e),()=>{a.removeEventListener("change",e)}}});function $e(t,e,a={}){const{type:s="localStorage",serializer:i={serialize:JSON.stringify,deserialize:JSON.parse},syncTabs:r=!0,onReadError:n=console.error,onWriteError:o=console.error,beforeRead:c=l=>l,beforeWrite:d=l=>l}=a,S=window[s];let w;try{const l=S==null?void 0:S.getItem(t);w=l?c(i.deserialize(l)):e}catch(l){n(l),w=e}let m=me(b(w));function I(l){try{const u=d(l);S.setItem(t,i.serialize(u))}catch(u){o(u)}}return r&&Fe&&s==="localStorage"&&addEventListener("storage",l=>{if(l.key===t&&l.storageArea===localStorage)try{const u=l.newValue?i.deserialize(l.newValue):e;M(m,b(c(u)))}catch(u){n(u)}}),we(()=>{Ce(()=>{I(z(m))})}),{get value(){return z(m)},set value(l){M(m,b(l))},update(l){M(m,b(l(z(m))))},reset(){M(m,b(e))}}}class p{constructor(e){h(this,"title");h(this,"description");h(this,"colors");h(this,"spinTime");h(this,"displayWinnerDialog");h(this,"winnerMessage");h(this,"confetti");h(this,"indefiniteSpin");h(this,"duringSpinSound");h(this,"duringSpinSoundVolume");h(this,"afterSpinSound");h(this,"afterSpinSoundVolume");h(this,"image");h(this,"hubSize");h(this,"type");this.title=(e==null?void 0:e.title)??"",this.description=(e==null?void 0:e.description)??"",this.colors=(e==null?void 0:e.colors)??Ue,this.spinTime=(e==null?void 0:e.spinTime)??10,this.displayWinnerDialog=(e==null?void 0:e.displayWinnerDialog)??!0,this.winnerMessage=(e==null?void 0:e.winnerMessage)??"",this.confetti=(e==null?void 0:e.confetti)??"fireworks",this.indefiniteSpin=(e==null?void 0:e.indefiniteSpin)??!1,this.duringSpinSound=(e==null?void 0:e.duringSpinSound)??"tick",this.duringSpinSoundVolume=(e==null?void 0:e.duringSpinSoundVolume)??.5,this.afterSpinSound=(e==null?void 0:e.afterSpinSound)??"SMALL_CROWD_APPLAUSE-Yannick_Lemieux-1268806408.mp3",this.afterSpinSoundVolume=(e==null?void 0:e.afterSpinSoundVolume)??.5,this.image=(e==null?void 0:e.image)??"",this.hubSize=(e==null?void 0:e.hubSize)??"S",this.type=(e==null?void 0:e.type)??"color"}}const kt=["color","image"],bt=["XXS","XS","S","M","L","XL"],A={XXS:.05,XS:.1,S:.25,M:.33,L:.5,XL:.75},Ue=["#3369E8","#D50F25","#8E44AD","#EEB211","#009925"],It=["fireworks","cannons","stars","off"],E=60,$=.005,Ve=15e-5,Je={angle:0,speed:$,phase:"demo",ticksInPhase:0},Xe=t=>({demo:a=>L(a,"accelerating"),accelerating:a=>a,constant:a=>x(a),decelerating:a=>a,stopped:a=>L(a,"accelerating")})[t.phase](t),je=(t,e,a)=>Ye({demo:i=>({...i,speed:$}),accelerating:i=>He(i,e,a),constant:i=>i,decelerating:i=>qe(i,e),stopped:i=>({...i,speed:0})}[t.phase](Ke(t))),Ke=t=>{let e=t.angle+t.speed;return e>=2*Math.PI&&(e-=2*Math.PI),{...t,angle:e}},Ye=t=>({...t,ticksInPhase:t.ticksInPhase+1}),He=(t,e,a)=>t.ticksInPhase>=U(e)?a?L(t,"constant"):x(t):{...t,speed:t.speed+ee()},qe=(t,e)=>t.ticksInPhase>=te(e)?L(t,"stopped"):{...t,speed:t.speed*Ge(e)},x=t=>({...t,angle:Math.random()*2*Math.PI,phase:"decelerating",ticksInPhase:0}),L=(t,e)=>({...t,phase:e,ticksInPhase:0}),U=t=>Math.min(E,Math.floor(t*E/3)),ee=()=>.6/E,te=t=>t*E-U(t),Ge=t=>Math.exp(Math.log(Ve/($+U(t)*ee()))/te(t));class Mt{constructor(e){h(this,"config");h(this,"state");h(this,"entries");h(this,"onStarted");h(this,"onPointerIndexChanged");h(this,"onStopped");this.config=(e==null?void 0:e.config)??new p,this.state=(e==null?void 0:e.state)??Je,this.entries=(e==null?void 0:e.entries)??se,this.onStarted=e==null?void 0:e.onStarted,this.onPointerIndexChanged=e==null?void 0:e.onPointerIndexChanged,this.onStopped=e==null?void 0:e.onStopped}click(){if(!this.entries.length)return;const e=this.state,a=Xe(this.state);this.onStarted&&a.phase!==e.phase&&a.phase==="accelerating"&&this.onStarted(),this.state=a}tick(){const e=this.state,a=je(e,this.config.spinTime,this.config.indefiniteSpin);if(this.onPointerIndexChanged){const s=N({entries:this.entries,state:e}),i=N({entries:this.entries,state:a});i!==s&&this.onPointerIndexChanged(i)}this.onStopped&&a.phase!==e.phase&&a.phase==="stopped"&&this.onStopped({winner:Qe(this),color:Ze(this)}),this.state=a}setConfig(e){this.config=e}setEntries(e){this.entries=e}}const N=t=>Math.round(t.state.angle/(2*Math.PI/(t.entries.length||1)))%(t.entries.length||1),Qe=t=>t.entries[N(t)],Ze=t=>t.config.type==="image"||!t.config.colors.length?null:t.config.colors[N(t)%t.config.colors.length],ae=()=>crypto.randomUUID().split("-")[0],se=["Ali","Beatriz","Charles","Diya","Eric","Fatima","Gabriel","Hanna"].map(t=>({text:t,id:ae()})),pe=t=>{const e=$e("wheel",t),a=s=>{e.update(i=>(i.entries=s.map(r=>({...r,id:ae()})),i))};return{get config(){return e.value.config},set config(s){e.value.config=s},get entries(){return e.value.entries},set entries(s){e.value.entries=s},get winners(){return e.value.winners},set winners(s){e.value.winners=s},get path(){return e.value.path},set path(s){e.value.path=s},reset:e.reset,setNewEntries:a}},xe={config:new p,entries:se,winners:[],path:null},At=pe(xe);class et{constructor(){h(this,"resultCache",new Map)}getFont(e,a,s,i,r){const n=this.getCachedResult(a,s,i,r);if(n)return n;let o=200;const c="Quicksand";a.forEach(S=>{const w=tt(e,S,c,s,i,r);w<o&&(o=w)});const d=`500 ${o}px ${c}`;return this.cacheResult(a,s,i,r,d),d}getCachedResult(e,a,s,i){return this.resultCache.get(j(e,a,s,i))}cacheResult(e,a,s,i,r){this.resultCache.set(j(e,a,s,i),r)}clearFontCache(){this.resultCache.clear()}}const tt=(t,e,a,s,i,r)=>at(t,s,i,r,a,e,3,200),at=(t,e,a,s,i,r,n,o)=>{let c;do c=Math.round((n+o)/2),st(t,e,a,s/2,r,`500 ${c}px ${i}`,c)?n=c:o=c;while(Math.abs(o-n)>=2);return c},st=(t,e,a,s,i,r,n)=>{if(!i)return!0;t.font=r;const{width:o}=t.measureText(ie(i));return it(s,e,a,o,n)},it=(t,e,a,s,i)=>(e**2-(i/2)**2)**.5-Math.max(i*Math.cos(t)/(2*Math.sin(t)),a)>=s,j=(t,e,a,s)=>JSON.stringify({texts:t,wheelRadius:e,hubRadius:a,smallestAngle:s}),ie=t=>t.length<=18?t:t.substring(0,17)+"â€¦",rt=t=>{const e=nt(t),a=1.05/(e+.05),s=(e+.05)/.05;return a>s?"#FFFFFF":"#000000"},D=t=>+`0x${t}`/255,nt=t=>{t=t.replace("#","");const a=[D(t.substring(0,2)),D(t.substring(2,4)),D(t.substring(4,6))].map(s=>s<=.03928?s/12.92:((s+.055)/1.055)**2.4);return .2126*a[0]+.7152*a[1]+.0722*a[2]};class Tt{constructor(){h(this,"imageCache",new Map);h(this,"fontPicker",new et)}refresh(){const e=this.imageCache.get("shadow"),a=this.imageCache.get("pointer");this.imageCache.clear(),e&&this.imageCache.set("shadow",e),a&&this.imageCache.set("pointer",a),this.fontPicker.clearFontCache()}async draw(e,a){e.clearRect(0,0,e.canvas.width,e.canvas.height),this.drawShadow(e),this.drawBackground(e,a),this.drawWheel(e,a),this.drawCenterImage(e,a),this.drawPointer(e)}drawShadow(e){this.imageCache.has("shadow")||this.drawShadowNoCache(k(e)),e.drawImage(this.imageCache.get("shadow"),0,0)}drawShadowNoCache(e){const{width:a,height:s}=e.canvas,i=a/2,r=s/2,n=P(e),o=e.createRadialGradient(i,r,n,i,r+n/75,n*26/25);o.addColorStop(0,"rgba(0, 0, 0, 0.25)"),o.addColorStop(1,"transparent"),e.fillStyle=o,e.fillRect(0,0,a,s),this.imageCache.set("shadow",e.canvas)}drawBackground(e,a){if(a.config.type!=="image"||(this.imageCache.has("background")||this.drawBackgroundNoCache(k(e),a.config.image),this.imageCache.get("background")===null))return;e.save();const{width:s,height:i}=e.canvas;e.translate(s/2,i/2),e.rotate(a.state.angle),e.translate(-s/2,-i/2),e.drawImage(this.imageCache.get("background"),0,0),e.restore()}async drawBackgroundNoCache(e,a){this.imageCache.set("background",null);const s=await O(a),i=P(e),r=i*2/Math.min(s.width,s.height),n=s.width*r,o=(i*2-n)/2,c=s.height*r,d=(i*2-c)/2;e.save(),e.beginPath(),e.translate(e.canvas.width/2,e.canvas.height/2),e.arc(0,0,i,0,Math.PI*2),e.clip(),e.translate(-i,-i),e.drawImage(s,o,d,n,c),e.restore(),this.imageCache.set("background",e.canvas)}drawWheel(e,a){this.imageCache.has("wheel")||this.drawWheelNoCache(k(e),a),e.save(),e.translate(e.canvas.width/2,e.canvas.height/2),e.rotate(a.state.angle),e.translate(-e.canvas.width/2,-e.canvas.height/2),e.drawImage(this.imageCache.get("wheel"),0,0),e.restore()}drawWheelNoCache(e,a){this.drawSlices(e,a),this.drawCenter(e,a),this.imageCache.set("wheel",e.canvas)}drawSlices(e,a){this.imageCache.has("slices")||this.drawSlicesNoCache(k(e),a),e.drawImage(this.imageCache.get("slices"),0,0)}drawSlicesNoCache(e,a){e.save(),e.translate(e.canvas.width/2,e.canvas.height/2);const s=P(e);e.font=this.fontPicker.getFont(e,a.entries.map(i=>i.text),s*15/16,s*A[a.config.hubSize]*17/16,2*Math.PI/a.entries.length),a.entries.forEach((i,r)=>{this.drawSlice(e,a,r),e.rotate(-2*Math.PI/a.entries.length)}),e.restore(),this.imageCache.set("slices",e.canvas)}drawSlice(e,a,s){const i=P(e),r=2*Math.PI/a.entries.length;if(a.config.type==="color"){const n=a.config.colors[s%a.config.colors.length];this.drawSliceBg(e,i,r,n),this.drawText(e,a.entries[s].text,i,rt(n))}else this.drawText(e,a.entries[s].text,i,"white","black")}drawSliceBg(e,a,s,i){e.beginPath(),e.moveTo(0,0),e.arc(0,0,a,-s/2,s/2),e.lineTo(0,0),e.fillStyle=i,e.fill()}drawText(e,a,s,i,r){e.lineJoin="round",e.textBaseline="middle",e.textAlign="end",e.fillStyle=i;const n=ie(a);r&&(e.strokeStyle=r,e.lineWidth=3,e.strokeText(n,s*15/16,0)),e.fillText(n,s*15/16,0)}drawCenter(e,a){a.config.type==="color"&&(this.imageCache.has("center")||this.drawCenterNoCache(k(e),A[a.config.hubSize]),e.drawImage(this.imageCache.get("center"),0,0))}drawCenterNoCache(e,a){e.translate(e.canvas.width/2,e.canvas.height/2),e.beginPath(),e.arc(0,0,P(e)*a,0,2*Math.PI),e.fillStyle="white",e.fill(),this.imageCache.set("center",e.canvas)}async drawCenterImage(e,a){if(a.config.type!=="color"||!a.config.image||(this.imageCache.has("center-image")||this.drawCenterImageNoCache(k(e),a.config.image,A[a.config.hubSize]),this.imageCache.get("center-image")===null))return;e.save();const{width:s,height:i}=e.canvas;e.translate(s/2,i/2),e.rotate(a.state.angle);const r=P(e)*A[a.config.hubSize];e.translate(-r,-r),e.drawImage(this.imageCache.get("center-image"),0,0),e.restore()}async drawCenterImageNoCache(e,a,s){this.imageCache.set("center-image",null);const i=await O(a),r=P(e)*s,n=r*2/Math.min(i.width,i.height),o=i.width*n,c=(r*2-o)/2-r,d=i.height*n,S=(r*2-d)/2-r;e.save(),e.beginPath(),e.translate(r,r),e.arc(0,0,r,0,Math.PI*2,!0),e.clip(),e.drawImage(i,c,S,o,d),e.restore(),this.imageCache.set("center-image",e.canvas)}drawPointer(e){this.imageCache.has("pointer")||this.drawPointerNoCache(k(e)),e.drawImage(this.imageCache.get("pointer"),0,0)}drawPointerNoCache(e){e.save();const{width:a,height:s}=e.canvas;e.shadowColor="black",e.shadowOffsetY=4,e.shadowBlur=10,e.fillStyle="white",e.strokeStyle="black",e.moveTo(a*19/20,s*19/40),e.beginPath(),e.lineTo(a*19/20,s*21/40),e.lineTo(a*9/10,s/2),e.lineTo(a*19/20,s*19/40),e.fill(),e.stroke(),e.restore(),this.imageCache.set("pointer",e.canvas)}}const P=t=>Math.min(t.canvas.width,t.canvas.height)/2*.85,k=t=>new OffscreenCanvas(t.canvas.width,t.canvas.height).getContext("2d"),O=async t=>{const e=new Image;return e.src=t,await e.decode(),e},Et=async t=>K(t,async e=>{const a=e.target.result,s=await O(a),i=700/Math.min(s.width,s.height),r=new OffscreenCanvas(s.width*i,s.height*i);r.getContext("2d").drawImage(s,0,0,s.width*i,s.height*i);const o=await r.convertToBlob({type:"image/jpeg",quality:.7});return K(o)}),K=(t,e)=>new Promise(a=>{const s=new FileReader;s.onloadend=i=>a(e?e(i):i.target.result),s.readAsDataURL(t)});let y=null;const Lt=t=>{ot("Tick-DeepFrozenApps-397275646.mp3",t)},ot=(t,e)=>{const a=new Audio(`/audio/${t}`);a.volume=e,a.oncanplaythrough=a.play},Nt=(t,e)=>{y=new Audio(`/audio/${t}`),y.volume=e,y.loop=!0,y.oncanplaythrough=y.play},zt=()=>{y&&(y.pause(),y=null)},Ft=[{name:"Beyond the Cloudy Sky",file:"beyond-the-cloudy-sky-shutterstock.mp3"}],Dt=[{name:"Small Crowd Applause",file:"SMALL_CROWD_APPLAUSE-Yannick_Lemieux-1268806408.mp3"}];export{A,Ft as B,Dt as C,E as F,Mt as W,gt as a,Nt as b,ot as c,zt as d,Tt as e,St as f,mt as g,Ne as h,yt as i,Ct as j,_t as k,vt as l,We as m,ae as n,wt as o,Lt as p,Pt as q,ft as r,R as s,rt as t,kt as u,Ue as v,At as w,It as x,bt as y,Et as z};
